{
    "actorSpecification": 1,
    "fields": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "Instagram Comment Lead",
        "type": "object",
        "properties": {
            "postUrl": {
                "type": "string",
                "format": "uri",
                "description": "Original Instagram post URL."
            },
            "source_shortcode": {
                "type": "string",
                "description": "Source post shortcode."
            },
            "shortcode": {
                "type": "string",
                "description": "Instagram post shortcode."
            },
            "username": {
                "type": "string",
                "description": "Comment author username."
            },
            "fullName": {
                "type": ["string", "null"],
                "description": "Comment author full name, if available."
            },
            "profileUrl": {
                "type": "string",
                "format": "uri",
                "description": "Comment author profile URL."
            },
            "text": {
                "type": "string",
                "description": "Comment text."
            },
            "likeCount": {
                "type": "integer",
                "minimum": 0,
                "description": "Like count on the comment."
            },
            "postedAt": {
                "type": "string",
                "format": "date-time",
                "description": "Timestamp of the comment."
            },
            "isLead": {
                "type": "boolean",
                "description": "Whether the comment is considered a lead."
            },
            "is_lead": {
                "type": "boolean",
                "description": "Whether the comment is considered a lead (snake_case)."
            },
            "leadScore": {
                "type": "string",
                "enum": ["HIGH", "LOW"],
                "description": "Lead intent score."
            },
            "intent": {
                "type": "string",
                "description": "Detected intent category."
            },
            "intent_score": {
                "type": "integer",
                "description": "Intent score (snake_case)."
            },
            "intentScore": {
                "type": "integer",
                "description": "Intent score."
            },
            "intentKeywords": {
                "type": "array",
                "items": { "type": "string" },
                "description": "Matched intent keywords."
            },
            "keywords": {
                "type": "array",
                "items": { "type": "string" },
                "description": "Matched keywords (snake_case)."
            },
            "language": {
                "type": "string",
                "description": "Detected language."
            },
            "audience_qualification": {
                "type": ["string", "null"],
                "description": "Audience qualification bucket from enrichment."
            },
            "followerCount": {
                "type": ["integer", "null"],
                "minimum": 0,
                "description": "Follower count from enrichment."
            },
            "followerBucket": {
                "type": ["string", "null"],
                "description": "Follower bucket from enrichment."
            },
            "enrichedAt": {
                "type": "string",
                "format": "date-time",
                "description": "Timestamp when enrichment was completed."
            },
            "extractedAt": {
                "type": "string",
                "format": "date-time",
                "description": "Timestamp when the data was extracted."
            }
        },
        "additionalProperties": true
    },
    "views": {
        "overview": {
            "title": "Overview",
            "transformation": {
                "fields": [
                    "postUrl",
                    "source_shortcode",
                    "username",
                    "text",
                    "intent",
                    "intent_score",
                    "is_lead",
                    "keywords",
                    "audience_qualification",
                    "profileUrl",
                    "likeCount",
                    "postedAt",
                    "leadScore",
                    "extractedAt"
                ]
            },
            "display": {
                "component": "table",
                "properties": {
                    "postUrl": { "label": "Post URL", "format": "link" },
                    "source_shortcode": { "label": "Source Shortcode", "format": "text" },
                    "username": { "label": "Username", "format": "text" },
                    "text": { "label": "Comment", "format": "text" },
                    "intent": { "label": "Intent", "format": "text" },
                    "intent_score": { "label": "Intent Score", "format": "number" },
                    "is_lead": { "label": "Is Lead", "format": "boolean" },
                    "keywords": { "label": "Keywords", "format": "json" },
                    "audience_qualification": { "label": "Audience", "format": "text" },
                    "profileUrl": { "label": "Profile URL", "format": "link" },
                    "likeCount": { "label": "Likes", "format": "number" },
                    "postedAt": { "label": "Posted At", "format": "date" },
                    "leadScore": { "label": "Lead Score", "format": "text" },
                    "extractedAt": { "label": "Extracted At", "format": "date" }
                }
            }
        }
    }
}
